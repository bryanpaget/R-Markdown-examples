# R Markdown

Highlights:

* [Installing R Markdown](#install)
* [Creating an R Markdown File](#create)
* [Markdown Overview](#overview)
* [R Extensions for Markdown](#r-specific)
* [Resources](#resources)


## <a name="install"></a>Installation

Install the 'rmarkdown' package:

    install.packages("rmarkdown")


## <a name="create"></a>Create an R Markdown File

Use the `.Rmd` file extension for your file... RStudio will interpret it as R Markdown when you open it.


## <a name="overview"></a>Markdown Overview

The basic idea is that Markdown is a *very simple* markup language that captures the essence of your document structure in a human-readable form. There is a direct translation from the constructs in your text file to the HTML that will be generated to display it.

The most common syntax elements:

### Text

Just type on a line. One or more empty lines between non-empty lines demarks paragraphs.

### Headings

Start the line with one to six `#` characters to turn that line into a heading; one is the biggest, six is the smallest.

### Emphasis

Use a single `*` character before and after the text you want italicized: `*hi*` becomes *hi*.

Use two consecutive `*` characters before and after the text you want boldfaced: `**pow**` becomes **pow**.

### Bulleted lists

Start the line with a `*` character to make the line a bullet item.

Indent the line with two spaces before the `*` to make a sub-item in the list.

The following:

    * this is the main-item
      * this is the sub item
    * this is the next main item

... becomes:

* this is the main-item
  * this is the sub item
* this is the next main item

### Numbered lists

Same as bulleted, but start the line with `1.`.

Indent the same way: precede the line with two spaces to make a sub-item (`__1.` becomes 1.a... those underlines represent spaces).

Numbers don't matter, the actual numbers will be calculated when the list is rendered. I just use `1.` for each item in the list.

The following:

    1. this is the main-item
      1. this is the sub item
    1. this is the next main item

... becomes:

1. this is the main-item
  1. this is the sub item
1. this is the next main item

### Links

Wrap the text you want linked with `[` and `]`, and immediately follow it with the URL wrapped in `(` and `)`.

For example, the following markdown `[Google](http://google.com)` will turn into this link: [Google](http://google.com).

### Codeblocks

Code can be represented inline or stand-alone.

**Inline:** For a small number of words inline, wrap them in `` ` `` characters: `` `library(plyr)` `` turns into this: `library(plyr)` (note that it's just part of the paragraph).

**Stand-alone:** to show several consecutive lines of code, just start each line with four or more spaces; the first four spaces indicate it is part of the block and the remainder are used for furtner indentation in your code.

    outcomes = read.csv("outcome-of-care-measures.csv", colClasses="character")
    ha = 11
    hf = 17
    pn = 23
    outcomes[,ha] <- as.numeric(outcomes[,ha])
    outcomes[,hf] <- as.numeric(outcomes[,hf])
    outcomes[,pn] <- as.numeric(outcomes[,pn])

### Horizontal rules

Just put three or more hyphens, asterisks, or underlines on a line by themselves, such as `---`.

### All the rest

See the resources for more detail on each of these and the more complicated structures you might want to create.

**Notes**

* R Markdown does not support smileys. You'll have to handle those in a different way. :)


## <a name="r-specific"></a>R Extensions

R directives can be placed inline within body text or as stand-alone computable chunks.

### Inline 

To compute values or execute functions within body text, wrap the function in `` ` `` characters and start the expression with the `r` directive: `` `r 3 + 2` `` turns into this: 5 (note that it's just part of the paragraph).

### Stand-alone

To include entire code blocks, start and end the code block with three consecutive `` ` `` characters an include the `{r}` directive:

    ```{r}
    2 + 2
    ```

... becomes:

    2 + 2
    ## [1] 4

Plots may need size metadata or other directives in addition to what can be expressed in R directly. To indicate a graph generated by `qplot` should be 4x3, for example, the following `{r}` directive would be used within the code block:

    {r qplot, fig.width=4, fig.height=3, message=FALSE}

Equations can be embedded using MathML or LaTeX. Examples of this can be found in the links below.

R Markdown will display the code used to generate tables and graphs by default. If you do not want the R code to render (only the results), include `echo=FALSE` in the `{r}` directive:

    ```{r echo=False}
    2 + 2
    ```

... becomes:

    ## [1] 4


## Example

A concrete example of using these features can be seen in the [analysis.Rmd](./analysis.Rmd) (rendered as [analysis.html](./analysis.html)) documents in this folder.


## <a name="resources"></a>Resources

* [R Markdown Homepage](http://rmarkdown.rstudio.com/)
* [Markdown Reference](http://daringfireball.net/projects/markdown/syntax)
